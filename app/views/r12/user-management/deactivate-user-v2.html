{% extends 'layout_vol_header.html' %}
<!-- some custom css for the home page only -->


{% block pageTitle %}
NHS Volunteering
{% endblock %}

{% block headCSS %}
<link href="/css/main.css" rel="stylesheet">
<link href="/css/nhsuk.css" rel="stylesheet">
{% endblock %}



<!-- Homepage content -->
{% block content %}

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">

    <div class="nhsuk-back-link">

      <a class="nhsuk-back-link__link" href="/r12/user-management/recruiter-user-2">
        <svg class="nhsuk-icon nhsuk-icon__chevron-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
          aria-hidden="true" height="24" width="24">
          <path
            d="M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z">
          </path>
        </svg>
        Go back</a>
    </div>

    <div class="nhsuk-grid-row">
      <div class="nhsuk-grid-column-two-thirds">

        <form action="/r12/user-management/deactivate-user-confirmation" method="post" class="form">

          <div class="nhsuk-form-group">
            <fieldset class="nhsuk-fieldset">
              <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--l">
                <h1 class="nhsuk-fieldset__heading">
                  Are you sure you want to deactivate Fred Lettuce's account?
                </h1>
              </legend>

              <div class="nhsuk-hint">
                If you deactivate this account, you will need to assign other team members to do their tasks.
              </div>

              <div class="nhsuk-radios">
                <div class="nhsuk-radios__item">
                  <input class="nhsuk-radios__input" id="deactivate-yes" name="deactivate-user" type="radio"
                    value="yes">
                  <label class="nhsuk-label nhsuk-radios__label" for="deactivate-yes">
                    Yes
                  </label>
                </div>
                <div class="nhsuk-radios__item">
                  <input class="nhsuk-radios__input" id="deactivate-no" name="deactivate-user" type="radio" value="no">
                  <label class="nhsuk-label nhsuk-radios__label" for="deactivate-no">
                    No
                  </label>
                </div>
              </div>
            </fieldset>
          </div>

          <button class="nhsuk-button" data-module="nhsuk-button" type="submit">
            Save and continue
          </button>

        </form>

      </div>
    </div>

    <script>
      // The script now finds the form because it has the class 'form'
      document.querySelector('.form').addEventListener('submit', function (e) {

        // Updated to match the name 'deactivate-user' used in the HTML above
        const selected = document.querySelector('input[name="deactivate-user"]:checked');

        if (selected && selected.value === 'no') {
          e.preventDefault(); // Prevents going to the 'confirmation' page
          window.location.href = "r12/user-management/manage-users"; // Redirects back
        }
      });
    </script>
    {% endblock %}